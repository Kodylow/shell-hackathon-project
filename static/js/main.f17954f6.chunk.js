(this["webpackJsonpshell-hackathon-project"]=this["webpackJsonpshell-hackathon-project"]||[]).push([[0],{34:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(26),c=n.n(i),s=n(3),r=n(4),o=n.n(r),u=n(5),d=(n(34),n(28),n(6)),l=n.n(d);var j=n(0);n(83),n(84),n(85);var m=function(e){e.updates,e.artist,e.image,e.date,e.time,e.venue,e.quantity,e.location;var t=e.product,n=e.displayProduct,a=e.setProductQuantity;return Object(j.jsxs)("div",{className:"Product",children:[Object(j.jsx)("div",{className:"image_block",children:Object(j.jsx)("img",{src:t.image,alt:t.artist,className:"event_image"})}),Object(j.jsxs)("div",{className:"date_time_block",children:[Object(j.jsx)("p",{className:"date_block",children:Object(j.jsx)("strong",{children:t.date})}),Object(j.jsx)("p",{className:"time_block",children:t.time})]}),Object(j.jsxs)("div",{className:"details_block",children:[Object(j.jsx)("p",{className:"artist_block",children:Object(j.jsx)("strong",{children:t.artist})}),Object(j.jsxs)("p",{className:"time_block",children:[t.venue," - ",t.location]})]}),Object(j.jsxs)("div",{className:"quantity_block",children:[Object(j.jsx)("img",{alt:"decrease",className:"action-icons",src:"/images/decrease.svg",onClick:function(){a(t.index,t.quantity-1)}}),Object(j.jsx)("span",{className:"quantity",children:t.quantity}),Object(j.jsx)("img",{alt:"increase",className:"action-icons",src:"/images/increase.svg",onClick:function(){a(t.index,t.quantity+1)}})]}),Object(j.jsx)("div",{className:"buy_block",children:Object(j.jsx)("button",{className:"btn",disabled:0===t.quantity,onClick:function(){n(t)},children:"Buy Ticket"})})]})};var b=function(e){var t=e.displayProduct,n=e.products,a=e.setProductQuantity,i=e.updates;return Object(j.jsx)("div",{className:"ProductList",children:n.map((function(e){return Object(j.jsx)(m,{updates:i,product:e,displayProduct:t,setProductQuantity:a},e.index)}))})},h=(n(86),n(10)),p=n.n(h);var x=function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])};var f=function(e){e.setShowModal;var t=e.setPaidTx,n=e.quantity,i=e.code,c=Object(a.useState)(!1),r=Object(s.a)(c,2),d=r[0],m=r[1],b=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p()({secretKey:"pak_kKSYwVCK28TY7tcP9uJxWM0BYLnsdP"}),e.next=3,t.getInvoice({id:d.id});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return x(Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b().then((function(e){1===e.settled&&console.log(e),t(e.settled)}));case 1:case"end":return e.stop()}}),e)}))),1e3),Object(a.useEffect)((function(){console.log("code: "+i);var e=p()({secretKey:"pak_kKSYwVCK28TY7tcP9uJxWM0BYLnsdP",walletAccessKey:"waki_fmRmyHa9yKW0FwkrAz5Ji5lX"}),t=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.generateInvoice({num_satoshis:10*n,passTru:{order_id:"10"},description_hash:"Your ticket has been purchased, please check your email in a few seconds. Confirmation Code: "+i,memo:"Invoice memo.",expiry:3e5});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t().then((function(e){return e})).then((function(e){return m(e)}))}),[]),d?Object(j.jsxs)("div",{children:[Object(j.jsx)(l.a,{value:d.payment_request}),Object(j.jsxs)("h4",{children:[d.num_satoshis," SAT (1 sat = 0.00000001 BTC)"]})]}):Object(j.jsx)("div",{})};var O=function(e){var t=e.product,n=(e.setProductQuantity,e.setShowModal),i=Object(a.useState)(0),c=Object(s.a)(i,2),r=c[0],o=c[1],u=function(){var e=["ABCDEFGHIJKLMNOPQRSTUVWXYZ","abcdefghijklmnopqrstuvwxyz","0123456789"];return[10,10,10].map((function(t,n){return Array(t).fill(e[n]).map((function(e){return e[Math.floor(Math.random()*e.length)]})).join("")})).concat().join("").split("").sort((function(){return.5-Math.random()})).join("")}();return Object(j.jsx)("div",{className:"Modal",children:Object(j.jsxs)("div",{className:"modal_inner",children:[Object(j.jsx)("div",{className:"close_wrapper",children:Object(j.jsx)("span",{className:"close_icon",onClick:function(){n(!1)},children:"x"})}),Object(j.jsxs)("div",{className:"content_wrapper",children:[Object(j.jsx)("h2",{className:"artist_block",children:Object(j.jsx)("strong",{children:t.artist})}),Object(j.jsx)("img",{src:t.image,alt:t.artist,className:"event_image"}),Object(j.jsx)("p",{className:"date_time_block",children:Object(j.jsxs)("strong",{children:[t.date," - ",t.time]})}),Object(j.jsxs)("p",{className:"venue_block",children:[t.venue," - ",t.location]}),Object(j.jsx)("hr",{}),0===r?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h4",{children:[t.quantity," tickets"]}),Object(j.jsx)(f,{setShowModal:n,setPaidTx:o,code:u,quantity:t.quantity})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h4",{children:"Your ticket has been purchased, please check your email in a few seconds."}),Object(j.jsxs)("p",{children:["Confirmation Code: ",u]})]})]})]})})};var v=function(e){var t=e.headerUnderJumbo,n=Object(a.useState)(!1),i=Object(s.a)(n,2),c=i[0],r=i[1],o=Object(a.useState)({}),u=Object(s.a)(o,2),d=u[0],l=u[1],m=Object(a.useState)([{index:0,artist:"Beyonce",image:"/images/beyonce.jpeg",date:"SEP 26",time:"7:30pm",venue:"Culture Room",quantity:0,location:"Fort Lauderdale, FL"},{index:1,artist:"Parcels",image:"/images/parcels.jpeg",date:"SEP 26",time:"9:00pm",venue:"Hard Rock Live",quantity:0,location:"Hollywood, FL"},{index:2,artist:"Daft Punk",image:"/images/daft_punk.jpeg",date:"SEP 26",time:"8:00pm",venue:"Hard Rock Stadium",quantity:0,location:"Miami, FL"},{index:3,artist:"Kendrick Lamar",image:"/images/kendrick.jpeg",date:"SEP 27",time:"8:00pm",venue:"BB&T Center",quantity:0,location:"Sunrise, FL"},{index:4,artist:"Bruno Mars",image:"/images/bruno-mars.jpeg",date:"SEP 27",time:"8:00pm",venue:"Hard Rock Stadium",quantity:0,location:"Miami, FL"},{index:5,artist:"Billie Eillish",image:"/images/billie_eillish.jpeg",date:"SEP 27",time:"7:30pm",venue:"Culture Room",quantity:0,location:"Fort Lauderdale, FL"},{index:6,artist:"Lorde",image:"/images/lorde.jpeg",date:"SEP 28",time:"9:00pm",venue:"Hard Rock Live",quantity:0,location:"Hollywood, FL"},{index:7,artist:"Kanye West",image:"/images/kanye.jpeg",date:"SEP 28",time:"8:00pm",venue:"BB&T Center",quantity:0,location:"Sunrise, FL"},{index:8,artist:"Taylor Swift",image:"/images/taylor_swift.jpeg",date:"SEP 28",time:"8:00pm",venue:"Hard Rock Stadium",quantity:0,location:"Miami, FL"},{index:9,artist:"Future",image:"/images/future.jpeg",date:"SEP 29",time:"7:30pm",venue:"Culture Room",quantity:0,location:"Fort Lauderdale, FL"},{index:10,artist:"Ed Sheeran",image:"/images/ed_sheeran.jpeg",date:"SEP 29",time:"8:00pm",venue:"BB&T Center",quantity:0,location:"Sunrise, FL"},{index:11,artist:"Guns & Roses",image:"/images/gunsnroses.jpeg",date:"SEP 29",time:"9:00pm",venue:"Hard Rock Live",quantity:0,location:"Hollywood, FL"}]),h=Object(s.a)(m,2),p=h[0],x=h[1],f=Object(a.useState)(0),v=Object(s.a)(f,2),g=v[0],y=v[1],k=function(e,t){var n=p;"undefined"!==typeof n[e]&&t>=0&&(n[e].quantity=t||0,y(g+1),x(n))};return Object(j.jsxs)("div",{className:"Home",children:[Object(j.jsx)("header",{id:"header",className:t?"under_jumbo":"",children:Object(j.jsx)("div",{className:"container container-wide",children:Object(j.jsx)("h2",{className:"logo",children:"BitcoinTickets"})})}),Object(j.jsx)("div",{id:"jumbo",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h2",{children:"Let's Make Bitcoin Happen"}),Object(j.jsx)("p",{children:"Shop amazing live concerts and discover the capabilities of Bitcoin by making your purchase with Lightning."})]})}),Object(j.jsx)("main",{id:"main",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h2",{children:"All Concerts Near Miami, FL"}),Object(j.jsx)(b,{products:p,setProductQuantity:k,updates:g,displayProduct:function(e){r(!0),l(e)}})]})}),Object(j.jsxs)("footer",{id:"footer",children:[Object(j.jsx)("h2",{className:"logo",children:"BitcoinTickets"}),Object(j.jsx)("p",{children:"Sponsored by Shellhacks."})]}),c?Object(j.jsx)(O,{product:d,setProductQuantity:k,setShowModal:r}):null]})};n(87);var g=function(){var e=document.getElementById("jumbo");return e?e.offsetTop+e.offsetHeight:null},y=function(){var e=document.getElementById("header");return e?window.scrollY+e.offsetHeight:null},k=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],c=function(){y()>=g()-30?i(!0):i(!1)};return Object(a.useEffect)((function(){return window.addEventListener("scroll",c),function(){return window.removeEventListener("scroll",c)}}),[]),Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(v,{headerUnderJumbo:n})})};c.a.render(Object(j.jsx)(k,{}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.f17954f6.chunk.js.map